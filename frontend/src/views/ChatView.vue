<script setup>
import { storeToRefs } from 'pinia'
import { useChatbotStore } from '@/stores/chatbotStore'

const chatbot = useChatbotStore()
const { prompt, response, loading, error } = storeToRefs(chatbot)

const sendMessage = () => {
  chatbot.sendMessage()
}
</script>

<template>
  <div class="chat-container">
    <h2>ğŸ’¬ Ú†Øª Ø¨Ø§ Ù…Ø¯Ù„ Ø¢ÙÙ„Ø§ÛŒÙ†</h2>

    <textarea v-model="prompt" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³..."></textarea>
    <button @click="sendMessage" :disabled="loading">Ø§Ø±Ø³Ø§Ù„</button>

    <div v-if="loading">Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...</div>

    <div v-if="error" style="color:red">{{ error }}</div>

    <div v-if="response">
      <h3>Ù¾Ø§Ø³Ø® Ù…Ø¯Ù„:</h3>
      <p>{{ response }}</p>
    </div>
  </div>
</template>

<style scoped>
.chat-container {
  width: 600px;
  margin: 40px auto;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
}
textarea {
  width: 100%;
  height: 150px;
  margin-bottom: 10px;
}
button {
  padding: 8px 16px;
}
</style>
